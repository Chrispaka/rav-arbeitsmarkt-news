<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<title>Arbeitsmarkt & Jobs Meilen – RAV</title>
<style>
body { font-family: Arial; background:#f5f5f5; margin:0; }
header { background:#A8D5BA; padding:20px; text-align:center; font-size:24px; }
.filters { text-align:center; margin:15px; }
.filters button { padding:8px 14px; margin:5px; border:none; border-radius:6px; cursor:pointer; }
.news, .jobs { display:grid; grid-template-columns:repeat(auto-fill,minmax(280px,1fr)); gap:15px; padding:20px; }
.card { background:white; padding:15px; border-radius:10px; box-shadow:0 2px 6px rgba(0,0,0,0.1); transition:0.2s; }
.card:hover { transform:scale(1.02); }
.stat-card { background:white; padding:15px; border-radius:10px; margin:0 10px; text-align:center; box-shadow:0 2px 6px rgba(0,0,0,0.1); }
</style>
</head>
<body>

<header>Arbeitsmarkt News & Jobs – RAV Meilen</header>

<div class="filters">
  <button onclick="filterNews('all')">Alle News</button>
  <button onclick="filterNews('allgemein')">Allgemein</button>
  <button onclick="filterNews('branchen')">Branchen</button>
  <button onclick="filterNews('trends')">Tipps & Trends</button>
</div>

<div id="stats" class="stats"></div>
<div id="news" class="news"></div>

<h2 style="text-align:center; margin-top:20px;">Aktuelle Jobs Meilen & Umgebung</h2>
<div class="filters">
  <button onclick="filterJobs('all')">Alle</button>
  <button onclick="filterJobs('pflege')">Pflege</button>
  <button onclick="filterJobs('sachbearbeitung')">Sachbearbeitung</button>
  <button onclick="filterJobs('ict')">ICT</button>
</div>
<div id="jobs" class="jobs"></div>

<script>
// News laden
function loadNews(){
  fetch('news.json')
    .then(r=>r.json())
    .then(data=>{
      const n=document.getElementById("news");
      n.innerHTML='';
      data.forEach(i=>{
        const d=document.createElement("div");
        d.className='card '+i.category;
        d.innerHTML=`<b>${i.title}</b><br>${i.description}`;
        n.appendChild(d);
      });
    });
}

function filterNews(cat){
  document.querySelectorAll("#news .card").forEach(c=>{
    c.style.display = (cat==='all' || c.classList.contains(cat)) ? '' : 'none';
  });
}

// Jobs laden
function loadJobs(){
  fetch('jobs.json')
    .then(r=>r.json())
    .then(data=>{
      data.sort((a,b)=>new Date(b.posted)-new Date(a.posted));
      const j=document.getElementById("jobs");
      j.innerHTML='';
      data.forEach(i=>{
        const d=document.createElement("div");
        d.className='card '+i.category;
        d.innerHTML=`
          <b>${i.title}</b><br>
          <small>${i.location} | Aufgeschaltet: ${i.posted}</small><br>
          ${i.description}
        `;
        if(i.link){
          const a=document.createElement("a");
          a.href=i.link;
          a.target="_blank";
          a.textContent="Zum Inserat";
          a.style="display:block;margin-top:8px;color:#0056b3;font-weight:bold;";
          d.appendChild(a);
        }
        j.appendChild(d);
      });
    });
}

function filterJobs(cat){
  document.querySelectorAll("#jobs .card").forEach(c=>{
    c.style.display = (cat==='all' || c.classList.contains(cat)) ? '' : 'none';
  });
}

// Arbeitslosenzahlen (aktuell manuell)
function loadStats(){
  const stats=document.getElementById("stats");
  stats.innerHTML='';
  const s1=document.createElement("div");
  s1.className='stat-card';
  s1.innerHTML="<b>Schweiz</b><br>Arbeitslosenquote: 3,2 % (SECO aktuell)";
  const s2=document.createElement("div");
  s2.className='stat-card';
  s2.innerHTML="<b>Kanton Zürich</b><br>Arbeitslosenquote: ca. 2,9 %";
  stats.append(s1,s2);
}

loadStats();
loadNews();
loadJobs();
</script>

</body>
</html>
